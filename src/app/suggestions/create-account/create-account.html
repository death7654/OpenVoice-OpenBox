<div class="d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow-sm p-4 p-md-5" style="max-width: 400px">
    <h3 class="fw-bold text-center mb-4">Create Account</h3>

    <!-- Form: hidden if password is generated -->
    <form *ngIf="!generatedPassword()" (ngSubmit)="createAccount()">
      <div *ngIf="errorMessage()" class="alert alert-danger text-center small">
        {{ errorMessage() }}
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">PRN Number</label>
        <input
          type="text"
          class="form-control"
          [ngModel]="prn()"
          (ngModelChange)="prn.set($event)"
          name="prn"
          placeholder="Enter PRN"
          required
        />
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">Admission Number</label>
        <input
          type="text"
          class="form-control"
          [ngModel]="admissionNumber()"
          (ngModelChange)="admissionNumber.set($event)"
          name="admissionNumber"
          placeholder="Enter 4-5 digit Admission Number"
          required
        />
      </div>

      <button type="submit" class="btn btn-primary w-100 fw-semibold">Create Account</button>
    </form>

    <!-- Display generated credentials only -->
    <div *ngIf="generatedPassword()" class="mt-4 p-3 border rounded bg-light text-center">
      <h6 class="fw-semibold mb-3">Account Created Successfully!</h6>
      <div class="d-flex justify-content-between mb-2">
        <span class="fw-semibold">Username:</span>
        <span class="text-end">{{ prn() }}</span>
      </div>

      <div class="d-flex justify-content-between mb-2">
        <span class="fw-semibold">Password:</span>
        <span class="text-end">{{ generatedPassword() }}</span>
      </div>

      <div class="d-flex justify-content-between mb-2">
        <span class="fw-semibold">ID:</span>
        <span class="text-end">{{ randomId() }}</span>
      </div>
      <br>
      <p class="text-muted small">
        Use these credentials to login. All of your suggestions will remain anonymous.
      </p>

      <div class="mt-3">
        <a routerLink="../login" class="btn btn-outline-secondary btn-sm"> Go to Login </a>
      </div>
    </div>
  </div>
</div>
